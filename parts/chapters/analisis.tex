% !TEX root = ../../proyect.tex

\chapter{Análisis}\label{analisis}
\section{Modelo conceptual}\label{sec:modelo_conceptual}

El modelo conceptual consiste en las entidades principales del sistema y sus relaciones. Por ello, se explicará a partir de la imagen \ref{fig:class_diagram}.

\figura{}{img/diagram/class_diagram}{Diagrama de clases}{fig:class_diagram}{}

Los elementos centrales del sistema son \textit{UserProfile} e \textit{Item}. Esto se puede apreciar a simple vista, debido a la cantidad de las relaciones con las diferentes entidades.

En primer lugar, \textit{UserProfile} gestiona más relaciones que atributos posee. Esto es debido a que la lógica y datos del usuario se encontrarán en \textit{User}. Así, entre ellos habrá una relación directa y bidireccional, en concreto, una relación \textit{One To One}. Un usuasio, así, poseerá secciones asociadas, tendrá estados a noticias, publicará comentarios en noticias y estará representado por temas que le interesa.

En segundo lugar, como punto neurálgico de la aplicación se encuentran las noticias, \textit{Item} en el modelo. El usuario, por lo comentado anteriormente, posee cuatro relaciones indirectas hacia este, y que representarán las diferentes funcionalidades de la aplicación.

\begin{itemize}
    \item \textit{UserProfile-Section-Feed-Item}. Este camino quiere representar la condición natural de noticia con respecto al usuario. Las noticias están agrupadas en feeds de sindicación de contenido. Estos, a su vez, asociados a secciones. Por último, es el usuario el que crea dicha secciones. Con esto, se puede agrupadar las noticias en base a dos criterios: secciones o feeds asociados. Esta será la navegabilidad principal de un usuario para leer noticias.
    \item \textit{UserProfile-Status-Item}. En segundo lugar, se guardará la interacción del usuario con dicha noticia. Con esto se consigue guardar los estados por los que pasa la noticia para el usuario y poder valorar cuánto gusta a un usuario una determinada noticia. Así, se mantiene guardado si un usuario ha visto ya una noticia, para así no volver a mostrársela; si la ha leído, le ha gustado o ha accedido al link original, así sabremos que ese tipo de noticias le interesa; o si la quiere guardar para leerla más tarde.
    \item \textit{UserProfile-Comment-Item}. Se da también la posibilidad a los usuarios de comentar las noticias para poder dar su opinión. Por ello, es necesario mantener dicha entidad como clase de asociación.
    \item \textit{UserProfile-Keyword-Item}. Por último lugar, el sistema analiza cada noticia y extrae las palabras claves de la misma. Con estas \textit{keywords} se definen las noticias y es posible relacionarlas entre sí. Además, al usuario también se le asignan palabras claves, que definirán sus gustos. Es por ello que se usa esta entidad y su relación \textit{Many To Many}, para albergar el fruto del análisis de ambas entidades.
\end{itemize}


\section{Actores del sistema}\label{sec:actores del sistema}

El sistema posee dos actores, que consiste en usuarios autenticados o anónimos. Los primeros son aquellos que han accedido a la aplicación, están registados en el sistema y han accedido con sus credenciales. Los segundos son los que el sistema no puede identificarlos unívocamente, ya que no están registrados, o si lo están, no se han identificado.

La diferencia radicará en el acceso a contenido que requiera de poseer un usuario adociado. No obstante, se ha intentado, en la medida de lo posible dar el mayor acceso posible al usuario anónimo en la aplicación.

En resumen, los actores serán: \textbf{Anónimo} y \textbf{Usuario}.

\section{Catálogo de requisitos}\label{sec:catalogo_requisitos}

Dado que se ha usando una metodología ágil, como se indica en el punto \ref{sec:metodologia_scrum}, se representan los requisitos como historias de usuario, ya que suponen un forma clara y sencilla de representarlos. En apartado se englobarán los requisitos funcionales del sistema, dentro de las historias épicas correspondientes, y los no funcionales.

\subsection{Requisitos funcionales}

\subsubsection{Historias épicas}

\cuadro{lp{0.8\linewidth}}{HE1 - Acceso aplicación}{tab:he1}
{
    \multicolumn{2}{c}{\textbf{HE1 - Acceso aplicación}} \\
    \hline
    \textbf{Usuario} & Anónimo  \\
    \textbf{Descripción} & El sistema deberá proveer el registro de cualquiera, así como el acceso a los usuarios ya registrados.  \\
}

\cuadro{lp{0.8\linewidth}}{HE2 – Gestión de perfil}{tab:he2}
{
    \multicolumn{2}{c}{\textbf{HE2 – Gestión de perfil}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Descripción} & El sistema deberá almacenar toda la información perteneciente al usuario registrado, así como la posibilidad de que este la cambie. \\
}

\cuadro{lp{0.8\linewidth}}{HE3 – Gestión de secciones}{tab:he3}
{
    \multicolumn{2}{c}{\textbf{HE3 – Gestión de secciones}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Descripción} & El sistema deberá almacenar todas las secciones que el usuario cree, así como dejarle la posibilidad de que este la cambie. De igual manera con los feeds asociados a dicha sección. \\
}

\cuadro{lp{0.8\linewidth}}{HE4 – Gestión de noticias}{tab:he4}
{
    \multicolumn{2}{c}{\textbf{HE4 – Gestión de noticias}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Descripción} & El sistema deberá almacenar todas las noticias actualizadas de los feeds del usuario, así como dejarle interaccionar con ellas. \\
}

\cuadro{lp{0.8\linewidth}}{HE5 – Gestión de intereses}{tab:he5}
{
    \multicolumn{2}{c}{\textbf{HE5 – Gestión de intereses}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Descripción} & El sistema deberá almacenar todas las preferencias del usuario del usuario para recomendarle noticias. \\
}


\subsubsection{Historias de usuario}

\cuadro{lp{0.8\linewidth}}{HU01 – Registro}{tab:hu01}
{
    \multicolumn{2}{c}{\textbf{HU01 – Registro}} \\
    \hline
    \textbf{Usuario} & Anónimo  \\
    \textbf{Historia épica} & HE1 – Acceso Aplicación  \\
    \textbf{Descripción} & Como usuario anónimo no registrado previamente quiero poder registrarme en el sistema para acceder a él. \\
}

\cuadro{lp{0.8\linewidth}}{HU02 – Acceso}{tab:hu02}
{
    \multicolumn{2}{c}{\textbf{HU02 – Acceso}} \\
    \hline
    \textbf{Usuario} & Anónimo  \\
    \textbf{Historia épica} & HE1 – Acceso Aplicación  \\
    \textbf{Descripción} & Como usuario anónimo registrado previamente quiero poder acceder al sistema para interactuar con la aplicación. \\
}

\cuadro{lp{0.8\linewidth}}{HU03 – Ver perfil}{tab:hu03}
{
    \multicolumn{2}{c}{\textbf{HU03 – Ver perfil}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE2 – Gestión de perfil  \\
    \textbf{Descripción} & Como usuario quiero poder ver la información que el sistema guarda de mi para saber qué datos posee la aplicación sobre mi identidad. \\
}

\cuadro{lp{0.8\linewidth}}{HU04 – Editar perfil}{tab:hu04}
{
    \multicolumn{2}{c}{\textbf{HU04 – Editar perfil}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE2 – Gestión de perfil  \\
    \textbf{Descripción} & Como usuario quiero poder editar la información que el sistema guarda de mi para que los datos sean más acordes a mi identidad. \\
}

\cuadro{lp{0.8\linewidth}}{HU05 – Ver secciones}{tab:hu05}
{
    \multicolumn{2}{c}{\textbf{HU05 – Ver secciones}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero ver las secciones que previamente he creado para saber qué secciones poseo actualmente. \\
}

\cuadro{lp{0.8\linewidth}}{HU06 – Editar secciones}{tab:hu06}
{
    \multicolumn{2}{c}{\textbf{HU06 – Editar secciones}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero editar las secciones que previamente he creado para modificarlas. \\
}

\cuadro{lp{0.8\linewidth}}{HU07 – Crear secciones}{tab:hu07}
{
    \multicolumn{2}{c}{\textbf{HU07 – Crear secciones}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero crear secciones para poder organizar mejor los feeds que leo. \\
}

\cuadro{lp{0.8\linewidth}}{HU08 – Eliminar secciones}{tab:hu08}
{
    \multicolumn{2}{c}{\textbf{HU08 – Eliminar secciones}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero eliminar secciones para poder quitar las secciones que ya no me sirven. \\
}

\cuadro{lp{0.8\linewidth}}{HU09 – Ver feeds por sección}{tab:hu09}
{
    \multicolumn{2}{c}{\textbf{HU09 – Ver feeds por sección}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero ver los feeds asociados a cada sección para saber a qué periódicos sigo. \\
}

\cuadro{lp{0.8\linewidth}}{HU10 – Añadir feed por sección}{tab:hu10}
{
    \multicolumn{2}{c}{\textbf{HU10 – Añadir feed por sección}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero añadir feeds a cada sección para seguir a más periódicos. \\
}

\cuadro{lp{0.8\linewidth}}{HU11 – Eliminar feed por sección}{tab:hu11}
{
    \multicolumn{2}{c}{\textbf{HU11 – Eliminar feed por sección}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero eliminar feeds asociados a una sección para quitar los periódicos que ya no me interesen. \\
}

\cuadro{lp{0.8\linewidth}}{HU12 – Ver noticias por sección}{tab:hu12}
{
    \multicolumn{2}{c}{\textbf{HU12 – Ver noticias por sección}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero ver todas las noticias de los feeds asociados a cada sección para tener en una vista las últimas noticias de dichos medios. \\
}

\cuadro{lp{0.8\linewidth}}{HU13 – Ver noticias por feed}{tab:hu13}
{
    \multicolumn{2}{c}{\textbf{HU13 – Ver noticias por feed}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE3 – Gestión de secciones  \\
    \textbf{Descripción} & Como usuario quiero ver todas las noticias de un feed para tener en una vista las últimas noticias de dicho feed. \\
}

\cuadro{lp{0.8\linewidth}}{HU14 – Ver noticias de actualidad}{tab:hu14}
{
    \multicolumn{2}{c}{\textbf{HU14 – Ver noticias de actualidad}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver las noticias más actuales de todos los periódicos que sigo para tener en una vista las últimas noticias. \\
}

\cuadro{lp{0.8\linewidth}}{HU15 – Ver una noticia}{tab:hu15}
{
    \multicolumn{2}{c}{\textbf{HU15 – Ver una noticia}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver una noticia para no tener que ir a la página del periódico cada vez. \\
}

\cuadro{lp{0.8\linewidth}}{HU16 – Ver noticias relacionadas}{tab:hu16}
{
    \multicolumn{2}{c}{\textbf{HU16 – Ver noticias relacionadas}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver dentro de la vista de una noticia, otras relacionadas para saber qué dicen otros diarios de la misma o el mismo periódico, pero en otro día. \\
}

\cuadro{lp{0.8\linewidth}}{HU17 – Ver comentarios de noticias}{tab:hu17}
{
    \multicolumn{2}{c}{\textbf{HU17 – Ver comentarios de noticias}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver dentro de la vista de una noticia, los comentarios para saber qué dicen otros usuarios de la misma. \\
}

\cuadro{lp{0.8\linewidth}}{HU18 – Comentar noticias}{tab:hu18}
{
    \multicolumn{2}{c}{\textbf{HU18 – Comentar noticias}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero comentar noticias para expresar mi opinión de la misma. \\
}

\cuadro{lp{0.8\linewidth}}{HU19 – Buscar noticias}{tab:hu19}
{
    \multicolumn{2}{c}{\textbf{HU19 – Buscar noticias}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero buscar noticias para poder comparar qué se dice sobre un tema. \\
}

\cuadro{lp{0.8\linewidth}}{HU20 – Marcar noticia como \textit{Me gusta}}{tab:hu20}
{
    \multicolumn{2}{c}{\textbf{HU20 – Marcar noticia como Me gusta}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero marcar una noticia como \textit{Me gusta} para transmitir a los demás usuarios que dicha noticia es acorde a mis gustos. \\
}

\cuadro{lp{0.8\linewidth}}{HU21 – Ver palabras claves por noticia}{tab:hu21}
{
    \multicolumn{2}{c}{\textbf{HU21 – Ver palabras claves por noticia}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver las palabras que definen a una noticia para saber de qué hablará sin necesidad de leerla. \\
}

\cuadro{lp{0.8\linewidth}}{HU22 – Ver noticias por palabras claves}{tab:hu22}
{
    \multicolumn{2}{c}{\textbf{HU22 – Ver noticias por palabras claves}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver las noticias que poseen dicha palabra clave para saber qué se dice sobre un tema. \\
}

\cuadro{lp{0.8\linewidth}}{HU23 – Resumen de actualidad}{tab:hu23}
{
    \multicolumn{2}{c}{\textbf{HU23 – Resumen de actualidad}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero ver de manera resumida las noticias de la última hora, o último día, semana o mes, para saber qué dicen hoy los feeds que sigo sin necesidad de leer todas las noticias. \\
}

\cuadro{lp{0.8\linewidth}}{HU24 – Guardar una noticia}{tab:hu24}
{
    \multicolumn{2}{c}{\textbf{HU24 – Guardar una noticia}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE4 – Gestión de noticias  \\
    \textbf{Descripción} & Como usuario quiero guardar una noticia para poder leerla más tarde. \\
}

\cuadro{lp{0.8\linewidth}}{HU25 – Ver intereses}{tab:hu25}
{
    \multicolumn{2}{c}{\textbf{HU25 – Ver intereses}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE5 – Gestión de intereses  \\
    \textbf{Descripción} & Como usuario quiero saber cuáles son mis intereses, según el sistema, en base a mis lecturas para conocerme más y buscar sobre los mismos. \\
}

\cuadro{lp{0.8\linewidth}}{HU26 – Ver noticias según mis intereses}{tab:hu26}
{
    \multicolumn{2}{c}{\textbf{HU26 – Ver noticias según mis intereses}} \\
    \hline
    \textbf{Usuario} & Usuario  \\
    \textbf{Historia épica} & HE5 – Gestión de intereses  \\
    \textbf{Descripción} & Como usuario quiero que el sistema me muestre noticias recomendadas para mí, para saber qué se dice sobre lo que me interesa. \\
}

\subsection{Requisitos no funcionales}

\cuadro{lp{0.8\linewidth}}{RNF1 – Control de acceso}{tab:rnf1}
{
    \multicolumn{2}{c}{\textbf{RNF1 – Control de acceso}} \\
    \hline
    \textbf{Descripción} & El sistema deberá restringir el acceso a determinadas partes solo a aquellos usuarios registrados. \\
}

\cuadro{lp{0.8\linewidth}}{RNF2 – Recurrencia}{tab:rnf2}
{
    \multicolumn{2}{c}{\textbf{RNF2 – Recurrencia}} \\
    \hline
    \textbf{Descripción} & El sistema deberá permitir, como mínimo, 15 usuarios simultáneos en el sistema sin afectar a la rapidez de cada uno. \\
}

\cuadro{lp{0.8\linewidth}}{RNF3 – Sencillez de uso}{tab:rnf3}
{
    \multicolumn{2}{c}{\textbf{RNF3 – Sencillez de uso}} \\
    \hline
    \textbf{Descripción} & El sistema deberá proporcional una interfaz clara con fácil navegabilidad. En concreto, el usuario debe acceder a cualquier vista en menos de 5 clics o menos. \\
}

\cuadro{lp{0.8\linewidth}}{RNF4 – Guía de ayuda}{tab:rnf4}
{
    \multicolumn{2}{c}{\textbf{RNF4 – Guía de ayuda}} \\
    \hline
    \textbf{Descripción} & El sistema deberá proporcionar en una página todas las funcionalidades de la página explicadas. \\
}

\cuadro{lp{0.8\linewidth}}{RNF5 – Barra de navegación}{tab:rnf5}
{
    \multicolumn{2}{c}{\textbf{RNF5 – Barra de navegación}} \\
    \hline
    \textbf{Descripción} & El sistema deberá proporcionar al usuario en cada vista un menú de navegación con las opciones más importantes. \\
}

\cuadro{lp{0.8\linewidth}}{RNF6 – Sesión iniciada}{tab:rnf6}
{
    \multicolumn{2}{c}{\textbf{RNF6 – Sesión iniciada}} \\
    \hline
    \textbf{Descripción} & El sistema deberá guardar en una cookie la sesión actual. Así, aunque cierre el navegador, tendrá iniciada su sesión. Esta se quitará cuando el usuario cierre sesión. \\
}

\cuadro{lp{0.8\linewidth}}{RNF7 – Interfaz responsiva}{tab:rnf7}
{
    \multicolumn{2}{c}{\textbf{RNF7 – Interfaz responsiva}} \\
    \hline
    \textbf{Descripción} & El sistema deberá proporcionar una interfaz acorde al tamaño de pantalla del dispositivo, en concreto, aptos para móviles, tabletas, ordenadores portátiles y ordenadores de sobremesa. \\
}

\cuadro{lp{0.8\linewidth}}{RNF8 – Traspaso de datos}{tab:rnf8}
{
    \multicolumn{2}{c}{\textbf{RNF8 – Traspaso de datos}} \\
    \hline
    \textbf{Descripción} & El sistema deberá evitar el traspaso de información de manera no controlada fuera de la página bajo cualquier circunstancia. \\
}


\section{Diagrama de secuencia}\label{sec:diagrama_secuencia}